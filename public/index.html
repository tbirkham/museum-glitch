<!DOCTYPE html>
<html>
  <head>
    <title>Walled Gallery Template</title>
    <meta name="description" content="Hello, WebVR! - A-Frame" />
    <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent("sound-mod", {
        schema: {
          playing: {
            type: "boolean",
            default: false
          }
        },
        update: function() {
          let data = this.data;
          let el = this.el;
          let playing = data.playing;
          var sceneEl = document.querySelector('a-scene');
          
          // get all entities
          let all_els = sceneEl.querySelectorAll('[sound]');

          el.addEventListener("click", () => {
            for (var i = 0; i < all_els.length; i++){
                all_els[i].components.sound.pauseSound();
            }
            el.components.sound.playSound();
          });
        }
      });
    </script>
 
  </head>
  <body>
    <a-scene>
      <a-assets>
        <a-asset-item id="stand1" src="newtable.gltf"></a-asset-item>
     
      </a-assets>
      <a-entity id="sierra-nevada" position="0 2 -1.5">
          <a-box depth="0.05" height=".72" width="1.2" src="https://cdn.glitch.com/9311de7d-e70d-457c-8615-535f23fe02b5%2F0_7e90vU0d-iy-jXgH.jpg?v=1609556810740"> </a-box>
      </a-entity>

      <a-entity camera look-controls wasd-controls position="0 2.5 0">
      </a-entity>

      <a-camera position="0 1.5 0">
        <a-cursor color="#FF0000"></a-cursor>
      </a-camera>

      <!-- WALLS -->
      <a-box color="#AF9F7E" depth="40" height="40" width="0.5" position="12 0 4"></a-box>
      <a-box color="#AF9F7E" depth="40" height="40" width="0.5" position="-15 0 4"></a-box>
      <a-box color="#AF9F7E" depth="0.5" height="40" width="40" position="4 0 10"></a-box>
      <a-box color="#AF9F7E" depth="0.5" height="40" width="40" position="4 0 -10"></a-box>
      
      <a-entity
        id="stand"
        position="3 -.1 .2"
      >
        <a-gltf-model src="#stand1"
          rotation="0 180 0"
          scale=".032 .02515 .032"
        ></a-gltf-model>
      </a-entity>

      <a-plane
        src="https://cdn.glitch.com/1ed5af2c-e33f-45ad-b923-dfffb4bba85b%2F4d68ba76-5a0a-47dd-9113-2d4a3b9b355d.image.png?v=1597953400227"
        rotation="-90 0 0"
        height="100"
        width="100"
        metalness=".3"
        repeat= "30 50"
      ></a-plane>

      <a-sky
        color="#EEEEEE"
        shader="standard"
        material="emissive: #fff; emissiveIntensity: .25"
      ></a-sky>
    </a-scene>
  </body>
</html>
